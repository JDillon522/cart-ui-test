"use strict";(self.webpackChunkcart_ui_test=self.webpackChunkcart_ui_test||[]).push([[587],{4587:(A,d,n)=>{n.r(d),n.d(d,{CatalogModule:()=>S});var i=n(6895),t=n(8256),g=n(5861),u=n(1135),m=n(3905),C=n(4004),v=n(2340),h=n(7489),s=n(529);let l=(()=>{class a{constructor(o){this.http=o,this.initialLoad=!1,this._products$=new u.X([]),this.products$=this._products$.asObservable()}getProducts(){var o=this;return(0,g.Z)(function*(){if(!o.initialLoad){const r=yield(0,m.z)(o.http.get(`${v.N.api}/catalog`).pipe((0,C.U)(p=>p.products.map(e=>(e.name=(0,h.startCase)(e.name),e)))));o._products$.next(r),o.initialLoad=!0}})()}}return a.\u0275fac=function(o){return new(o||a)(t.LFG(s.eN))},a.\u0275prov=t.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var f=n(6262),O=n(3949);function P(a,c){if(1&a){const o=t.EpF();t.TgZ(0,"app-card")(1,"div",1)(2,"h3"),t._uU(3),t.qZA(),t._UZ(4,"img",2),t.qZA(),t.TgZ(5,"div",3)(6,"p"),t._uU(7),t.ALo(8,"currency"),t.qZA(),t.TgZ(9,"button",4),t.NdJ("click",function(){const e=t.CHM(o).$implicit,T=t.oxw();return t.KtG(T.addProductToCart(e.id))}),t.ALo(10,"async"),t._uU(11,"Add"),t.qZA()()()}if(2&a){const o=c.$implicit,r=t.oxw();t.xp6(3),t.Oqu(o.name),t.xp6(4),t.Oqu(t.lcZ(8,3,o.price)),t.xp6(2),t.Q6J("disabled",t.lcZ(10,5,r.loading$))}}let x=(()=>{class a{constructor(o,r){this.catalogService=o,this.cartService=r,this.products$=this.catalogService.products$,this.loading$=this.cartService.cartLoading$}ngOnInit(){this.catalogService.getProducts()}addProductToCart(o){this.cartService.addProductToCart(o)}}return a.\u0275fac=function(o){return new(o||a)(t.Y36(l),t.Y36(f.N))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-catalog"]],decls:2,vars:3,consts:[[4,"ngFor","ngForOf"],["body",""],["src","https://via.placeholder.com/150"],["actions",""],[1,"add-to-card",3,"disabled","click"]],template:function(o,r){1&o&&(t.YNc(0,P,12,7,"app-card",0),t.ALo(1,"async")),2&o&&t.Q6J("ngForOf",t.lcZ(1,1,r.products$))},dependencies:[i.sg,O.A,i.Ov,i.H9],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;gap:2rem}app-card[_ngcontent-%COMP%]{width:100%;max-width:400px}app-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}app-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}app-card[_ngcontent-%COMP%]   div[actions][_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:1rem}app-card[_ngcontent-%COMP%]   div[actions][_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-right:auto}@media screen and (min-width: 400px){app-card[_ngcontent-%COMP%]{width:200px}}"]}),a})();var y=n(6461),M=n(716),$=n(4312);const Z=[{path:"",component:x}];let S=(()=>{class a{}return a.\u0275fac=function(o){return new(o||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[{provide:s.TP,useClass:$._,multi:!0},l],imports:[i.ez,y.Bz.forChild(Z),s.JF,M.d]}),a})()}}]);
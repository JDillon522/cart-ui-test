<h1>Cart</h1>

<app-card>
  <table body>
    <thead>
      <tr>
        <th>Name</th>
        <th>Unit Price</th>
        <th>Quantity</th>
        <th>Total</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of (cart$ | async)?.products">
        <td>{{product.name}}</td>
        <td>{{product.price | currency}}</td>
        <td>
          {{product.quantity}}
          <button class="fab sub"
            title="Add"
            (click)="updateQty(product.id, product.quantity - 1)">-</button>
            /
          <button title="Subtract"
            class="fab add"
            (click)="updateQty(product.id, product.quantity + 1)">+</button>
        </td>
        <td>{{(product.price * product.quantity) | currency}}</td>
        <td>
          <button title="Remove product from cart" class="fab delete" (click)="removeProduct(product.id)">X</button>
        </td>
      </tr>
    </tbody>
  </table>

  <div actions>
    <h3>Total: {{(cart$ | async)?.totalCost | currency}}</h3>
    <a routerLink="/checkout">Checkout</a>
  </div>
</app-card>
